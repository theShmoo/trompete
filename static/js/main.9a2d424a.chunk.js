(this.webpackJsonptrompete=this.webpackJsonptrompete||[]).push([[0],{57:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=a(28),s=a(29),l=a(36),m=a(35),u=a(4),p=a(105),f=a(106),h=a(103),d=a(104),g=a(68),b=a(52),v=a(99),E=a(100),y=Object(b.a)({typography:{useNextVariants:!0},palette:{primary:{light:"#99d066",main:"#689f38",dark:"#387002",contrastText:"#000"},secondary:{light:"#819ca9",main:"#546e7a",dark:"#29434e",contrastText:"#fff"}}});var j=function(e){return function(t){return r.a.createElement(v.a,{theme:y},r.a.createElement(E.a,null),r.a.createElement(e,t))}},x=a(23),O=a(109),N=a(107),k=a(108),S=a(51),w=a.n(S),C=a(50),F=a.n(C),T="https://lagerjodel.firebaseio.com/databases/posts.json",G={method:"GET",redirect:"follow"},P=Object(u.a)((function(e){return{form:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},button:{margin:e.spacing(1)},textField:{margin:e.spacing(2)}}}))((function(e){var t=e.classes,a=e.user,n=e.onSend,c=r.a.useState(""),o=Object(x.a)(c,2),i=o[0],s=o[1],l=r.a.useState(!1),m=Object(x.a)(l,2),u=m[0],p=m[1],f=r.a.useState("Leere Trompete"),d=Object(x.a)(f,2),g=d[0],b=d[1],v=""!==g,E=function(){if(!v){var e={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:a,text:i}),redirect:"follow"};fetch(T,e).then((function(e){e.ok?e.json().then((function(e){console.log(e),p(!0),n()})).catch((function(){b("Fehler beim Verarbeiten der Nachricht...")})):b("Mein Server mag diese Nachricht nicht...")})).catch((function(){b("Fehler beim Senden der Nachricht...")}))}};return r.a.createElement("form",{className:t.form,autoComplete:"off"},r.a.createElement(O.a,{className:t.formControl},r.a.createElement(N.a,{id:"my-text",multiline:!0,error:v,margin:"normal",className:t.textField,rowsMax:4,InputLabelProps:{shrink:!0},fullWidth:!0,value:i,onKeyPress:function(e){"Enter"===e.key&&(E(),e.preventDefault())},onChange:function(e){s(e.target.value),b(e.target.value?"":"Leere Trompete")}})),r.a.createElement(O.a,{className:t.formControl},r.a.createElement(k.a,{variant:"contained",disabled:u||v,onClick:E,className:t.button,color:u?"secondary":"primary",endIcon:u?r.a.createElement(F.a,null):r.a.createElement(w.a,null)},"Send"),u?r.a.createElement(h.a,{variant:"body1",color:"primary"},"Danke!"):""))})),q=Object(u.a)((function(e){return{root:{flexGrow:1},box:{margin:e.spacing(2),padding:e.spacing(2)}}}))((function(e){var t=e.post,a=e.classes,n=t.text;return r.a.createElement(d.a,{item:!0,xs:12,sm:6,lg:4,className:a.root},r.a.createElement(g.a,{square:!0,elevation:2,className:a.box},r.a.createElement(h.a,{variant:"h6",color:"inherit"},n)))})),D=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:{}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(e){this.update()}},{key:"componentDidUpdate",value:function(e){this.props.refresh!==e.refresh&&this.update()}},{key:"update",value:function(){var e=this;fetch(T,G).then((function(e){return e.json()})).then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){var e=this.props.classes,t=Object.entries(this.state.data).map((function(e,t){var a=Object(x.a)(e,2),n=(a[0],a[1]);return r.a.createElement(q,{post:n,key:t})}));return r.a.createElement(d.a,{className:e.root,container:!0,spacing:2},t)}}]),a}(r.a.Component),M=Object(u.a)((function(e){return{root:{flexGrow:1}}}))(D),A=function(){return r.a.createElement("span",{role:"img","aria-label":"trompete",style:{margin:"1ex"}},"\ud83c\udfba")},I="databases/users/M8qkGNG5pSfIyxBcxPP",J=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={refreshFeed:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(p.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(A,null),r.a.createElement(h.a,{variant:"h6",color:"inherit",className:t.flex},"Trompete"))),r.a.createElement(g.a,{square:!0,elevation:4,className:t.ui},r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(P,{user:I,onSend:function(){e.setState((function(e){return{refreshFeed:!e.refreshFeed}}))}})))),r.a.createElement(d.a,{container:!0,spacing:2,className:t.main},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(M,{user:I,refresh:this.state.refreshFeed}))))}}]),a}(n.Component),L=j(Object(u.a)((function(e){return{root:{flexGrow:1},main:{padding:e.spacing(2),margin:e.spacing(1)},ui:{padding:e.spacing(2),margin:e.spacing(1)}}}))(J));o.a.render(r.a.createElement(L,null),document.querySelector("#root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.9a2d424a.chunk.js.map